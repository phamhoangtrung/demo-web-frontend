<header class="topbar" data-navbarbg="skin5">
  <nav class="navbar top-navbar navbar-expand-md navbar-dark">
    <div class="navbar-header" data-logobg="skin6">
      <!-- ============================================================== -->
      <!-- Logo -->
      <!-- ============================================================== -->
      <a class="navbar-brand" routerLink="/">
        <!-- Logo icon -->
        <b class="logo-icon">
          <!-- Dark Logo icon -->
          <img src="assets/plugins/images/logo-icon.png" alt="homepage" />
        </b>
        <!--End Logo icon -->
        <!-- Logo text -->
        <span class="logo-text">
          <!-- dark Logo text -->
          <img src="assets/plugins/images/logo-text.png" alt="homepage" />
        </span>
      </a>
      <!-- ============================================================== -->
      <!-- End Logo -->
      <!-- ============================================================== -->
      <!-- ============================================================== -->
      <!-- toggle and nav items -->
      <!-- ============================================================== -->
      <a
        class="nav-toggler waves-effect waves-light text-dark d-block d-md-none"
        href="javascript:void(0)"
        ><i class="ti-menu ti-close"></i
      ></a>
    </div>
    <!-- ============================================================== -->
    <!-- End Logo -->
    <!-- ============================================================== -->
    <div
      class="navbar-collapse collapse header-nav"
      id="navbarSupportedContent"
      data-navbarbg="skin5"
    >
      <ul class="navbar-nav d-none d-md-block d-lg-none">
        <li class="nav-item">
          <a
            class="nav-toggler nav-link waves-effect waves-light text-white"
            href="javascript:void(0)"
            ><i class="ti-menu ti-close"></i
          ></a>
        </li>
      </ul>
      <!-- ============================================================== -->
      <!-- Right side toggle and nav items -->
      <!-- ============================================================== -->
      <ul class="navbar-nav ms-auto d-flex align-items-center top-nav">
        <!-- ============================================================== -->
        <!-- Search -->
        <!-- ============================================================== -->
        <li class="in">
          <form role="search" class="app-search d-none d-md-block me-3">
            <input
              type="text"
              placeholder="Search..."
              class="form-control mt-0"
              name="keyword"
              (input)="searching($event)"
            />
            <!-- <span href="" class="active" (click)="searching()">
              <i class="fa fa-search"></i>
            </span> -->
          </form>
        </li>
        <div
          *ngIf="
            authService.user$ | async as user;
            then authenticate;
            else unauthenticate
          "
        ></div>
        <!-- ============================================================== -->
        <!-- User profile and search -->
        <!-- ============================================================== -->
        <ng-template #authenticate>
          <li *ngIf="authService.user$ | async as user">
            <span class="profile-pic" href="#">
              <img
                [src]="user.photoURL"
                alt="user-img"
                width="36"
                class="img-circle"
              /><span class="text-white font-medium">{{
                user.displayName ? user.displayName : user.email
              }}</span></span
            >
          </li>
          <li>
            <button mat-raised-button (click)="logout()">Logout</button>
          </li>
        </ng-template>
        <ng-template #unauthenticate>
          <li>
            {{ user }}
          </li>
          <li>
            <button mat-raised-button (click)="openDialog()">Login</button>
          </li>
          <li>
            <button mat-raised-button (click)="navigate()">
              Sign up
            </button>
          </li>
        </ng-template>

        <!-- ============================================================== -->
        <!-- User profile and search -->
        <!-- ============================================================== -->
      </ul>
    </div>
  </nav>
</header>
